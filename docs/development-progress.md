# 逸刻新零售加盟商一体化管理与赋能平台 - 开发进度文档

## 项目概述

**项目名称：** 逸刻新零售加盟商一体化管理与赋能平台 (MVP - 完整扩展版)

**项目愿景：** 快速搭建一个核心流程线上化平台，支持逸刻招商团队、运营团队与加盟商完成从意向申请到日常运营、支持、沟通及基础品控、结算的全生命周期管理，初步验证平台的一体化赋能价值，为后续全面数字化转型奠定坚实基础。

## 开发计划

### 阶段一：项目初始化与基础架构搭建

- [x] 分析PRD文档，确定项目范围和技术栈
- [x] 创建Vite+React项目（使用TypeScript）
- [x] 配置Tailwind CSS和自定义主题色
- [x] 设置Supabase客户端配置
- [ ] 创建基础布局和导航结构
- [ ] 实现用户认证与角色管理（Core.1模块）

### 阶段二：模块A - 招商与签约（简化版）

#### A.1 加盟商在线申请与审核
- [x] 设计并实现申请表单（FR-A.1.1）
- [x] 实现资质文件上传功能（FR-A.1.2）
- [x] 开发申请状态查看页面（FR-A.1.3）
- [x] 实现申请通知系统（FR-A.1.4）（进行中）
- [x] 创建申请审核界面（FR-A.1.5, FR-A.1.6）（进行中）
- [ ] 开发基础自动化初筛规则配置（FR-A.1.7）

#### A.2 电子合同签署（简化版）
- [x] 实现合同预览功能（FR-A.2.1）
- [x] 开发电子签名组件（FR-A.2.2）
- [x] 实现合同签署流程（FR-A.2.3）
- [x] 实现合同查看与管理功能（FR-A.2.4）
- [x] 开发合同签署状态跟踪（FR-A.2.5）
- [x] 实现签约完成后状态自动更新（FR-A.2.6）

### 阶段三：模块B - 开店筹备（极简版 - 聚焦首批订货）

#### B.1 首批订货
- [x] 开发商品管理功能（FR-B.1.1）（进行中）
- [x] 实现商品浏览与搜索（FR-B.1.2）（进行中）
- [x] 开发购物车功能（FR-B.1.3）（进行中）
- [x] 实现订单提交与收货信息管理（FR-B.1.4）
- [x] 开发订单详情与状态查看（FR-B.1.5）
- [x] 实现订单通知系统（FR-B.1.6）
- [x] 开发订单处理与状态更新功能（FR-B.1.7）

### 阶段四：模块C - 日常运营与支持（扩展版）

#### C.1 日常订货
- [x] 复用并优化B.1模块功能（FR-C.1.1）
- [x] 开发历史订单查看功能（FR-C.1.2）
- [x] 实现"再来一单"功能（FR-C.1.3）
- [x] 优化日常订单处理流程（FR-C.1.4）

#### C.2 基础经营数据看板
- [x] 开发仪表盘概览（FR-C.2.1）
- [x] 实现最近订单列表（FR-C.2.2）
- [x] 开发订货商品排行功能（FR-C.2.3）
- [x] 实现月度订货金额趋势图（FR-C.2.4）

#### C.3 基础工单支持
- [x] 开发工单创建功能（FR-C.3.1）
- [x] 实现工单列表与详情查看（FR-C.3.2）
- [x] 开发工单通知系统（FR-C.3.3）
- [x] 实现工单处理与回复功能（FR-C.3.4）
- [x] 开发工单沟通记录功能（FR-C.3.5）

## 当前进度

**当前阶段：** 模块C - 日常运营与支持（扩展版）

**已完成：**
- 分析PRD文档，确定项目范围和技术栈
- 初始化Vite+React+TypeScript项目
- 配置Tailwind CSS和自定义主题色（#00B0B9和#FF9800）
- 创建Bento Grid布局样式组件
- 设置Supabase客户端配置和基础枚举类型
- 实现加盟申请表单和资质文件上传功能
- 开发申请状态查看页面
- 完成合同签约相关组件开发，包括：
  - 合同预览组件
  - 电子签名组件
  - 合同签署流程
  - 合同管理与查看功能
- 开发订单相关功能：
  - 实现订单提交与收货信息管理
  - 开发订单详情与状态查看
  - 创建订单列表组件
- 开发模块C（日常运营与支持）功能：
  - 实现日常订货功能，包括历史订单查看和"再来一单"功能
  - 开发基础经营数据看板，包括仪表盘概览、最近订单列表、订货商品排行和月度趋势图
  - 实现基础工单支持功能，包括工单创建、列表查看和回复功能
- 创建基础布局和导航结构 (通过 `App.tsx` 中的 `Layout` 组件和 `react-router-dom` 实现)
- 开发模块D（财务结算与对账）功能：
  - 实现费用记录与支付提醒功能 (FR-D.1)
    - 创建货款记录相关类型定义 (`finance/types.ts`)
    - 开发货款记录表单 (`FeeRecordForm.tsx`)
    - 开发货款记录列表 (`FeeRecordList.tsx`)
    - 创建财务管理主页面 (`FinanceManagementPage.tsx`) 集成上述组件并处理模拟数据交互
  - 实现基础对账提醒功能 (FR-D.2)
    - 开发月度对账单显示组件 (`MonthlyStatementDisplay.tsx`)
    - 在财务管理主页面集成月度对账单显示及模拟生成/发送逻辑
  - 集成财务模块到主应用路由和导航中
- 开发模块E（巡店与品控管理）功能：
  - 实现基础巡店记录功能 (FR-E.1)
    - 创建巡店记录相关类型定义 (`inspection/types.ts`)
    - 开发巡店记录表单 (`InspectionRecordForm.tsx`)
    - 开发巡店记录列表 (`InspectionRecordList.tsx`)
    - 创建巡店管理主页面 (`InspectionManagementPage.tsx`) 集成上述组件并处理模拟数据交互 (包括图片上传至Supabase Storage的模拟逻辑)
  - 集成巡店模块到主应用路由和导航中

**进行中：**
- 实现用户认证与角色管理 (Supabase Auth 深度集成及细化权限控制)
- 开发申请通知系统和审核界面 (模块 A 的进一步完善)
- 优化模块B（开店筹备）的首批订货功能：
  - 商品管理功能设计与实现
  - 商品浏览与搜索界面开发
  - 购物车功能实现

**下一步：**
- 开发模块F（总部公告与沟通）的基础公告发布与查阅功能 (FR-F.1)

## 技术栈

- **前端：** Vite + React (TypeScript), Tailwind CSS, Zustand, React Hook Form + Zod
- **后端：** Supabase (PostgreSQL, Auth, Storage, Edge Functions)
- **设计风格：** Bento Grid, 主题色 #00B0B9 和 #FF9800

## 更新日志

### 2025-05-13
- 初始化项目开发计划文档
- 完成PRD文档分析

### 2025-05-14
- 初始化Vite+React+TypeScript项目
- 配置Tailwind CSS和自定义主题色
- 完成加盟申请表单和资质文件上传功能
- 实现申请状态查看页面
- 完成合同签约相关组件开发
- 实现合同预览、电子签名和合同管理功能
- 开始模块B（开店筹备）的开发
- 设计商品管理功能架构
- 开始实现商品浏览与搜索界面
- 规划购物车功能实现方案
- 继续完善申请通知系统和审核界面
- 完成订单通知系统（FR-B.1.6）
- 实现订单处理与状态更新功能（FR-B.1.7）
- 创建OrderNotification组件，支持实时订单通知
- 开发OrderProcessing组件，支持订单状态更新和物流信息管理
- 开发模块C（日常运营与支持）的日常订货功能
- 创建DailyOrderList组件，实现历史订单查看和"再来一单"功能
- 开发DashboardOverview组件，实现基础经营数据看板
- 创建SupportTicket组件，实现工单创建、列表查看和回复功能
- 完成C.1、C.2和C.3模块的所有功能点